"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/model/Scene.tsx":
/*!************************************!*\
  !*** ./components/model/Scene.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Scene: function() { return /* binding */ Scene; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @react-three/fiber */ \"(app-pages-browser)/./node_modules/@react-three/fiber/dist/events-776716bd.esm.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @react-three/drei */ \"(app-pages-browser)/./node_modules/@react-three/drei/core/PerspectiveCamera.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @react-three/drei */ \"(app-pages-browser)/./node_modules/@react-three/drei/core/OrbitControls.js\");\n/* harmony import */ var _react_three_postprocessing__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @react-three/postprocessing */ \"(app-pages-browser)/./node_modules/@react-three/postprocessing/dist/EffectComposer.js\");\n/* harmony import */ var _react_three_postprocessing__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @react-three/postprocessing */ \"(app-pages-browser)/./node_modules/@react-three/postprocessing/dist/effects/Bloom.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ \"(app-pages-browser)/./components/model/constants.ts\");\n/* harmony import */ var _DataFlowLine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DataFlowLine */ \"(app-pages-browser)/./components/model/DataFlowLine.tsx\");\n/* harmony import */ var _layers_InputLayer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./layers/InputLayer */ \"(app-pages-browser)/./components/model/layers/InputLayer.tsx\");\n/* harmony import */ var _layers_CNNBlock__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./layers/CNNBlock */ \"(app-pages-browser)/./components/model/layers/CNNBlock.tsx\");\n/* harmony import */ var _layers_TransformerBlock__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./layers/TransformerBlock */ \"(app-pages-browser)/./components/model/layers/TransformerBlock.tsx\");\n/* harmony import */ var _layers_RNNBlock__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./layers/RNNBlock */ \"(app-pages-browser)/./components/model/layers/RNNBlock.tsx\");\n/* harmony import */ var _layers_OutputLayer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./layers/OutputLayer */ \"(app-pages-browser)/./components/model/layers/OutputLayer.tsx\");\n/* harmony import */ var _layers_MLPBlock__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./layers/MLPBlock */ \"(app-pages-browser)/./components/model/layers/MLPBlock.tsx\");\n/* harmony import */ var _layers_GraphBlock__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./layers/GraphBlock */ \"(app-pages-browser)/./components/model/layers/GraphBlock.tsx\");\n/* harmony import */ var _layers_ResidualBlock__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./layers/ResidualBlock */ \"(app-pages-browser)/./components/model/layers/ResidualBlock.tsx\");\n/* harmony import */ var _layers_NormalizationBlock__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./layers/NormalizationBlock */ \"(app-pages-browser)/./components/model/layers/NormalizationBlock.tsx\");\n/* harmony import */ var _layers_AttentionBlock__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./layers/AttentionBlock */ \"(app-pages-browser)/./components/model/layers/AttentionBlock.tsx\");\n/* harmony import */ var _layers_EmbeddingBlock__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./layers/EmbeddingBlock */ \"(app-pages-browser)/./components/model/layers/EmbeddingBlock.tsx\");\n/* harmony import */ var _layers_PoolingBlock__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./layers/PoolingBlock */ \"(app-pages-browser)/./components/model/layers/PoolingBlock.tsx\");\n/* harmony import */ var _layers_DropoutBlock__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./layers/DropoutBlock */ \"(app-pages-browser)/./components/model/layers/DropoutBlock.tsx\");\n/* harmony import */ var _layers_FlattenBlock__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./layers/FlattenBlock */ \"(app-pages-browser)/./components/model/layers/FlattenBlock.tsx\");\n/* __next_internal_client_entry_do_not_use__ Scene auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Scene(param) {\n    let { highlightedSection, setHighlightedSection, powerMode, controlsRef, autoRotate, analysisResult } = param;\n    _s();\n    const { camera } = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_18__.D)();\n    const [focusedLayer, setFocusedLayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const initialCameraPosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>new three__WEBPACK_IMPORTED_MODULE_19__.Vector3(0, 2, 20), []);\n    const cameraTarget = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new three__WEBPACK_IMPORTED_MODULE_19__.Vector3(0, 0, 0));\n    const transitionStartTime = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const transitionDuration = 1000; // 1 second transition\n    const startPosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new three__WEBPACK_IMPORTED_MODULE_19__.Vector3());\n    const targetPosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new three__WEBPACK_IMPORTED_MODULE_19__.Vector3());\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        camera.position.copy(initialCameraPosition);\n    }, [\n        camera,\n        initialCameraPosition\n    ]);\n    // Generate layout based on analysis result or use default layout\n    const sections = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>generateLayout(analysisResult), [\n        analysisResult\n    ]);\n    // Generate connections\n    const connections = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>generateConnections(sections, analysisResult), [\n        sections,\n        analysisResult\n    ]);\n    const Components = {\n        input: _layers_InputLayer__WEBPACK_IMPORTED_MODULE_4__.InputLayer,\n        cnn: _layers_CNNBlock__WEBPACK_IMPORTED_MODULE_5__.CNNBlock,\n        transformer: _layers_TransformerBlock__WEBPACK_IMPORTED_MODULE_6__.TransformerBlock,\n        rnn: _layers_RNNBlock__WEBPACK_IMPORTED_MODULE_7__.RNNBlock,\n        output: _layers_OutputLayer__WEBPACK_IMPORTED_MODULE_8__.OutputLayer,\n        mlp: _layers_MLPBlock__WEBPACK_IMPORTED_MODULE_9__.MLPBlock,\n        graph: _layers_GraphBlock__WEBPACK_IMPORTED_MODULE_10__.GraphBlock,\n        residual: _layers_ResidualBlock__WEBPACK_IMPORTED_MODULE_11__.ResidualBlock,\n        normalization: _layers_NormalizationBlock__WEBPACK_IMPORTED_MODULE_12__.NormalizationBlock,\n        attention: _layers_AttentionBlock__WEBPACK_IMPORTED_MODULE_13__.AttentionBlock,\n        embedding: _layers_EmbeddingBlock__WEBPACK_IMPORTED_MODULE_14__.EmbeddingBlock,\n        pooling: _layers_PoolingBlock__WEBPACK_IMPORTED_MODULE_15__.PoolingBlock,\n        dropout: _layers_DropoutBlock__WEBPACK_IMPORTED_MODULE_16__.DropoutBlock,\n        flatten: _layers_FlattenBlock__WEBPACK_IMPORTED_MODULE_17__.FlattenBlock\n    };\n    const handleLayerClick = (type)=>{\n        if (focusedLayer === type) {\n            // Return to overview\n            setFocusedLayer(null);\n            transitionStartTime.current = Date.now();\n            startPosition.current.copy(camera.position);\n            targetPosition.current.copy(initialCameraPosition);\n            cameraTarget.current.set(0, 0, 0);\n        } else {\n            // Focus on layer\n            setFocusedLayer(type);\n            const section = sections.find((s)=>s.type === type);\n            if (section) {\n                transitionStartTime.current = Date.now();\n                startPosition.current.copy(camera.position);\n                // Calculate target position based on layer position\n                const layerPos = new three__WEBPACK_IMPORTED_MODULE_19__.Vector3(...section.position);\n                const offset = new three__WEBPACK_IMPORTED_MODULE_19__.Vector3(0, 0, 6); // Viewing distance\n                targetPosition.current.copy(layerPos).add(offset);\n                cameraTarget.current.copy(layerPos);\n            }\n        }\n        setHighlightedSection(type);\n    };\n    // Smooth camera animation\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_18__.F)(()=>{\n        if (transitionStartTime.current !== null) {\n            const elapsed = Date.now() - transitionStartTime.current;\n            const progress = Math.min(elapsed / transitionDuration, 1);\n            // Smooth easing function\n            const eased = 1 - Math.pow(1 - progress, 3);\n            if (progress < 1) {\n                // Interpolate position\n                camera.position.lerpVectors(startPosition.current, targetPosition.current, eased);\n                // Interpolate look-at target\n                if (controlsRef.current) {\n                    const currentTarget = controlsRef.current.target;\n                    currentTarget.lerp(cameraTarget.current, eased);\n                    controlsRef.current.update();\n                }\n            } else {\n                transitionStartTime.current = null;\n            }\n        }\n        // Subtle camera movement in power mode\n        if (powerMode && !focusedLayer && !transitionStartTime.current) {\n            camera.position.y += Math.sin(Date.now() * 0.001) * 0.01;\n            camera.position.x += Math.cos(Date.now() * 0.001) * 0.01;\n        }\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_20__.PerspectiveCamera, {\n                makeDefault: true,\n                position: [\n                    0,\n                    2,\n                    20\n                ],\n                fov: 60\n            }, void 0, false, {\n                fileName: \"/Users/glendonchin/Desktop/aimodellab/components/model/Scene.tsx\",\n                lineNumber: 146,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ambientLight\", {\n                intensity: powerMode ? 1 : 0.5\n            }, void 0, false, {\n                fileName: \"/Users/glendonchin/Desktop/aimodellab/components/model/Scene.tsx\",\n                lineNumber: 147,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pointLight\", {\n                position: [\n                    10,\n                    10,\n                    10\n                ],\n                intensity: powerMode ? 3 : 1\n            }, void 0, false, {\n                fileName: \"/Users/glendonchin/Desktop/aimodellab/components/model/Scene.tsx\",\n                lineNumber: 148,\n                columnNumber: 7\n            }, this),\n            powerMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pointLight\", {\n                position: [\n                    Math.sin(Date.now() * 0.001) * 15,\n                    Math.cos(Date.now() * 0.001) * 15,\n                    5\n                ],\n                intensity: 2,\n                color: \"#00ffff\"\n            }, void 0, false, {\n                fileName: \"/Users/glendonchin/Desktop/aimodellab/components/model/Scene.tsx\",\n                lineNumber: 151,\n                columnNumber: 9\n            }, this),\n            connections.map((connection, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_DataFlowLine__WEBPACK_IMPORTED_MODULE_3__.DataFlowLine, {\n                    points: connection.points,\n                    color: connection.color,\n                    powerMode: powerMode,\n                    isHighlighted: highlightedSection === connection.startSection || highlightedSection === connection.endSection\n                }, \"\".concat(connection.startSection, \"-\").concat(connection.endSection, \"-\").concat(idx), false, {\n                    fileName: \"/Users/glendonchin/Desktop/aimodellab/components/model/Scene.tsx\",\n                    lineNumber: 163,\n                    columnNumber: 9\n                }, this)),\n            sections.map((param)=>{\n                let { type, position, id } = param;\n                var _analysisResult_graph_nodes, _analysisResult_graph;\n                const Component = Components[type];\n                const nodeData = analysisResult === null || analysisResult === void 0 ? void 0 : (_analysisResult_graph = analysisResult.graph) === null || _analysisResult_graph === void 0 ? void 0 : (_analysisResult_graph_nodes = _analysisResult_graph.nodes) === null || _analysisResult_graph_nodes === void 0 ? void 0 : _analysisResult_graph_nodes.find((node)=>node.id === id);\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                    position: position,\n                    isHighlighted: highlightedSection === type,\n                    onPointerOver: ()=>!focusedLayer && setHighlightedSection(type),\n                    onPointerOut: ()=>!focusedLayer && setHighlightedSection(null),\n                    powerMode: powerMode,\n                    onClick: ()=>handleLayerClick(type),\n                    isFocused: focusedLayer === type,\n                    nodeData: nodeData\n                }, id || type, false, {\n                    fileName: \"/Users/glendonchin/Desktop/aimodellab/components/model/Scene.tsx\",\n                    lineNumber: 180,\n                    columnNumber: 11\n                }, this);\n            }),\n            powerMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_postprocessing__WEBPACK_IMPORTED_MODULE_21__.EffectComposer, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_postprocessing__WEBPACK_IMPORTED_MODULE_22__.Bloom, {\n                    intensity: 1.5,\n                    luminanceThreshold: 0.2,\n                    luminanceSmoothing: 0.9,\n                    height: 300\n                }, void 0, false, {\n                    fileName: \"/Users/glendonchin/Desktop/aimodellab/components/model/Scene.tsx\",\n                    lineNumber: 196,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/glendonchin/Desktop/aimodellab/components/model/Scene.tsx\",\n                lineNumber: 195,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_23__.OrbitControls, {\n                ref: controlsRef,\n                enableZoom: true,\n                enablePan: !focusedLayer,\n                autoRotate: !focusedLayer && autoRotate,\n                autoRotateSpeed: powerMode ? 1 : 0,\n                maxDistance: 30,\n                minDistance: 5,\n                dampingFactor: 0.05,\n                rotateSpeed: 0.5,\n                enabled: !focusedLayer && !transitionStartTime.current\n            }, void 0, false, {\n                fileName: \"/Users/glendonchin/Desktop/aimodellab/components/model/Scene.tsx\",\n                lineNumber: 205,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s(Scene, \"Gd/6PJ3iGnOuUk2Q26LfbXEZkCQ=\", false, function() {\n    return [\n        _react_three_fiber__WEBPACK_IMPORTED_MODULE_18__.D,\n        _react_three_fiber__WEBPACK_IMPORTED_MODULE_18__.F\n    ];\n});\n_c = Scene;\nfunction generateLayout(analysisResult) {\n    var _analysisResult_graph, _analysisResult_graph1;\n    console.log(\"Analysis Result:\", analysisResult === null || analysisResult === void 0 ? void 0 : (_analysisResult_graph = analysisResult.graph) === null || _analysisResult_graph === void 0 ? void 0 : _analysisResult_graph.nodes);\n    const radius = 8;\n    const defaultLayout = [\n        {\n            id: \"input\",\n            type: \"input\",\n            position: [\n                -radius * 1.5,\n                radius * 0.5,\n                0\n            ]\n        },\n        {\n            id: \"cnn\",\n            type: \"cnn\",\n            position: [\n                -radius,\n                radius * 0.8,\n                0\n            ]\n        },\n        {\n            id: \"mlp\",\n            type: \"mlp\",\n            position: [\n                -radius * 0.5,\n                radius,\n                0\n            ]\n        },\n        {\n            id: \"transformer\",\n            type: \"transformer\",\n            position: [\n                0,\n                radius,\n                0\n            ]\n        },\n        {\n            id: \"attention\",\n            type: \"attention\",\n            position: [\n                radius * 0.5,\n                radius,\n                0\n            ]\n        },\n        {\n            id: \"rnn\",\n            type: \"rnn\",\n            position: [\n                radius,\n                radius * 0.8,\n                0\n            ]\n        },\n        {\n            id: \"graph\",\n            type: \"graph\",\n            position: [\n                radius * 1.5,\n                radius * 0.5,\n                0\n            ]\n        },\n        {\n            id: \"residual\",\n            type: \"residual\",\n            position: [\n                radius * 1.5,\n                -radius * 0.5,\n                0\n            ]\n        },\n        {\n            id: \"normalization\",\n            type: \"normalization\",\n            position: [\n                radius,\n                -radius * 0.8,\n                0\n            ]\n        },\n        {\n            id: \"output\",\n            type: \"output\",\n            position: [\n                0,\n                -radius,\n                0\n            ]\n        }\n    ];\n    if (!(analysisResult === null || analysisResult === void 0 ? void 0 : (_analysisResult_graph1 = analysisResult.graph) === null || _analysisResult_graph1 === void 0 ? void 0 : _analysisResult_graph1.nodes)) {\n        return defaultLayout;\n    }\n    const depths = new Map();\n    const depthGroups = new Map();\n    const visited = new Set();\n    function calculateDepth(nodeId) {\n        let depth = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n        var _depthGroups_get, // Process children\n        _analysisResult_graph;\n        if (visited.has(nodeId)) {\n            // Update depth if we found a longer path\n            if (depth > (depths.get(nodeId) || 0)) {\n                var // Recalculate children with new depth\n                _analysisResult_graph1;\n                depths.set(nodeId, depth);\n                analysisResult === null || analysisResult === void 0 ? void 0 : (_analysisResult_graph1 = analysisResult.graph) === null || _analysisResult_graph1 === void 0 ? void 0 : _analysisResult_graph1.edges.filter((e)=>e.from === nodeId).forEach((edge)=>calculateDepth(edge.to, depth + 1));\n            }\n            return;\n        }\n        visited.add(nodeId);\n        depths.set(nodeId, depth);\n        if (!depthGroups.has(depth)) {\n            depthGroups.set(depth, []);\n        }\n        (_depthGroups_get = depthGroups.get(depth)) === null || _depthGroups_get === void 0 ? void 0 : _depthGroups_get.push(nodeId);\n        analysisResult === null || analysisResult === void 0 ? void 0 : (_analysisResult_graph = analysisResult.graph) === null || _analysisResult_graph === void 0 ? void 0 : _analysisResult_graph.edges.filter((e)=>e.from === nodeId).forEach((edge)=>calculateDepth(edge.to, depth + 1));\n    }\n    // Start from input nodes\n    analysisResult.graph.nodes.filter((n)=>n.type === \"input\").forEach((n)=>calculateDepth(n.id));\n    const maxDepth = Math.max(...Array.from(depths.values()));\n    // Calculate maximum nodes at any depth for scaling\n    const maxNodesAtDepth = Math.max(...Array.from(depthGroups.values()).map((group)=>group.length));\n    return analysisResult.graph.nodes.map((node)=>{\n        const depth = depths.get(node.id) || 0;\n        const depthNodes = depthGroups.get(depth) || [];\n        const nodeIndex = depthNodes.indexOf(node.id);\n        const nodesInLayer = depthNodes.length;\n        // Adjust spacing based on number of nodes\n        const spacingFactor = Math.min(1, 4 / maxNodesAtDepth);\n        const angleSpread = Math.PI * 0.8; // Reduce from full circle to partial arc\n        // Calculate base angle and offset\n        const baseAngle = depth / maxDepth * angleSpread - angleSpread / 2;\n        const angleOffset = (nodeIndex - (nodesInLayer - 1) / 2) * spacingFactor * (Math.PI / 8);\n        const angle = baseAngle + angleOffset;\n        // Add some randomization to Z coordinate to prevent perfect overlaps\n        const zOffset = nodeIndex % 2 * 0.5;\n        return {\n            id: node.id,\n            type: node.type,\n            position: [\n                radius * Math.cos(angle),\n                radius * Math.sin(angle),\n                radius * 0.2 * Math.sin(angleOffset) + zOffset\n            ]\n        };\n    });\n}\nfunction generateConnections(sections, analysisResult) {\n    var _analysisResult_graph;\n    // Default connections\n    const defaultPaths = [\n        {\n            start: \"input\",\n            end: \"cnn\"\n        },\n        {\n            start: \"cnn\",\n            end: \"mlp\"\n        },\n        {\n            start: \"mlp\",\n            end: \"transformer\"\n        },\n        {\n            start: \"transformer\",\n            end: \"attention\"\n        },\n        {\n            start: \"attention\",\n            end: \"rnn\"\n        },\n        {\n            start: \"rnn\",\n            end: \"graph\"\n        },\n        {\n            start: \"graph\",\n            end: \"residual\"\n        },\n        {\n            start: \"residual\",\n            end: \"normalization\"\n        },\n        {\n            start: \"normalization\",\n            end: \"output\"\n        }\n    ];\n    if (!(analysisResult === null || analysisResult === void 0 ? void 0 : (_analysisResult_graph = analysisResult.graph) === null || _analysisResult_graph === void 0 ? void 0 : _analysisResult_graph.edges)) {\n        return defaultPaths.map((param)=>{\n            let { start, end } = param;\n            const startSection = sections.find((s)=>s.id === start);\n            const endSection = sections.find((s)=>s.id === end);\n            if (!startSection || !endSection) return null;\n            return {\n                points: createCurvedPath(startSection.position, endSection.position, 2),\n                color: _constants__WEBPACK_IMPORTED_MODULE_2__.LAYER_COLORS[endSection.type],\n                startSection: startSection.type,\n                endSection: endSection.type\n            };\n        }).filter(Boolean);\n    }\n    return analysisResult.graph.edges.map((edge)=>{\n        const startNode = analysisResult.graph.nodes.find((n)=>n.id === edge.from);\n        const endNode = analysisResult.graph.nodes.find((n)=>n.id === edge.to);\n        if (!startNode || !endNode) return null;\n        const startSection = sections.find((s)=>s.id === edge.from);\n        const endSection = sections.find((s)=>s.id === edge.to);\n        if (!startSection || !endSection) return null;\n        return {\n            points: createCurvedPath(startSection.position, endSection.position, 2),\n            color: _constants__WEBPACK_IMPORTED_MODULE_2__.LAYER_COLORS[endNode.type],\n            startSection: startNode.type,\n            endSection: endNode.type\n        };\n    }).filter(Boolean);\n}\nfunction createCurvedPath(start, end) {\n    let height = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 2;\n    const points = [];\n    const midPoint = [\n        (start[0] + end[0]) / 2,\n        (start[1] + end[1]) / 2 + height,\n        (start[2] + end[2]) / 2\n    ];\n    for(let t = 0; t <= 1; t += 0.05){\n        const x = Math.pow(1 - t, 2) * start[0] + 2 * (1 - t) * t * midPoint[0] + Math.pow(t, 2) * end[0];\n        const y = Math.pow(1 - t, 2) * start[1] + 2 * (1 - t) * t * midPoint[1] + Math.pow(t, 2) * end[1];\n        const z = Math.pow(1 - t, 2) * start[2] + 2 * (1 - t) * t * midPoint[2] + Math.pow(t, 2) * end[2];\n        points.push(new three__WEBPACK_IMPORTED_MODULE_19__.Vector3(x, y, z));\n    }\n    return points;\n}\nvar _c;\n$RefreshReg$(_c, \"Scene\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvbW9kZWwvU2NlbmUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFNkQ7QUFDTDtBQUNhO0FBQ0Q7QUFDckM7QUFDWTtBQUVHO0FBQ0c7QUFDSjtBQUNnQjtBQUNoQjtBQUNNO0FBQ047QUFDSTtBQUNNO0FBQ1U7QUFDUjtBQUVBO0FBQ0o7QUFDQTtBQUNBO0FBVzlDLFNBQVMyQixNQUFNLEtBT1Q7UUFQUyxFQUNwQkMsa0JBQWtCLEVBQ2xCQyxxQkFBcUIsRUFDckJDLFNBQVMsRUFDVEMsV0FBVyxFQUNYQyxVQUFVLEVBQ1ZDLGNBQWMsRUFDSCxHQVBTOztJQVFwQixNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHOUIsc0RBQVFBO0lBQzNCLE1BQU0sQ0FBQytCLGNBQWNDLGdCQUFnQixHQUFHbEMsK0NBQVFBLENBQW1CO0lBQ25FLE1BQU1tQyx3QkFBd0JsQyw4Q0FBT0EsQ0FBQyxJQUFNLElBQUlPLDJDQUFhLENBQUMsR0FBRyxHQUFHLEtBQUssRUFBRTtJQUMzRSxNQUFNNkIsZUFBZXRDLDZDQUFNQSxDQUFDLElBQUlTLDJDQUFhLENBQUMsR0FBRyxHQUFHO0lBQ3BELE1BQU04QixzQkFBc0J2Qyw2Q0FBTUEsQ0FBZ0I7SUFDbEQsTUFBTXdDLHFCQUFxQixNQUFNLHNCQUFzQjtJQUN2RCxNQUFNQyxnQkFBZ0J6Qyw2Q0FBTUEsQ0FBQyxJQUFJUywyQ0FBYTtJQUM5QyxNQUFNaUMsaUJBQWlCMUMsNkNBQU1BLENBQUMsSUFBSVMsMkNBQWE7SUFFL0NWLGdEQUFTQSxDQUFDO1FBQ1JrQyxPQUFPVSxRQUFRLENBQUNDLElBQUksQ0FBQ1I7SUFDdkIsR0FBRztRQUFDSDtRQUFRRztLQUFzQjtJQUVsQyxpRUFBaUU7SUFDakUsTUFBTVMsV0FBVzNDLDhDQUFPQSxDQUFDLElBQU00QyxlQUFlZCxpQkFBaUI7UUFBQ0E7S0FBZTtJQUUvRSx1QkFBdUI7SUFDdkIsTUFB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RyxDQUFDLEVBQUU7UUFFakdwRSxPQUFPOEMsSUFBSSxDQUFDLElBQUl6SSwyQ0FBYSxDQUFDZ0YsR0FBR0YsR0FBR3dGO0lBQ3RDO0lBQ0EsT0FBTzNFO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9tb2RlbC9TY2VuZS50c3g/NWI0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVGhyZWUsIHVzZUZyYW1lIH0gZnJvbSAnQHJlYWN0LXRocmVlL2ZpYmVyJztcbmltcG9ydCB7IE9yYml0Q29udHJvbHMsIFBlcnNwZWN0aXZlQ2FtZXJhIH0gZnJvbSAnQHJlYWN0LXRocmVlL2RyZWknO1xuaW1wb3J0IHsgRWZmZWN0Q29tcG9zZXIsIEJsb29tIH0gZnJvbSAnQHJlYWN0LXRocmVlL3Bvc3Rwcm9jZXNzaW5nJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IExBWUVSX0NPTE9SUyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IExheWVyVHlwZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgRGF0YUZsb3dMaW5lIH0gZnJvbSAnLi9EYXRhRmxvd0xpbmUnO1xuaW1wb3J0IHsgSW5wdXRMYXllciB9IGZyb20gJy4vbGF5ZXJzL0lucHV0TGF5ZXInO1xuaW1wb3J0IHsgQ05OQmxvY2sgfSBmcm9tICcuL2xheWVycy9DTk5CbG9jayc7XG5pbXBvcnQgeyBUcmFuc2Zvcm1lckJsb2NrIH0gZnJvbSAnLi9sYXllcnMvVHJhbnNmb3JtZXJCbG9jayc7XG5pbXBvcnQgeyBSTk5CbG9jayB9IGZyb20gJy4vbGF5ZXJzL1JOTkJsb2NrJztcbmltcG9ydCB7IE91dHB1dExheWVyIH0gZnJvbSAnLi9sYXllcnMvT3V0cHV0TGF5ZXInO1xuaW1wb3J0IHsgTUxQQmxvY2sgfSBmcm9tICcuL2xheWVycy9NTFBCbG9jayc7XG5pbXBvcnQgeyBHcmFwaEJsb2NrIH0gZnJvbSAnLi9sYXllcnMvR3JhcGhCbG9jayc7XG5pbXBvcnQgeyBSZXNpZHVhbEJsb2NrIH0gZnJvbSAnLi9sYXllcnMvUmVzaWR1YWxCbG9jayc7XG5pbXBvcnQgeyBOb3JtYWxpemF0aW9uQmxvY2sgfSBmcm9tICcuL2xheWVycy9Ob3JtYWxpemF0aW9uQmxvY2snO1xuaW1wb3J0IHsgQXR0ZW50aW9uQmxvY2sgfSBmcm9tICcuL2xheWVycy9BdHRlbnRpb25CbG9jayc7XG5pbXBvcnQgeyBBbmFseXNpc1Jlc3VsdCB9IGZyb20gJ0AvbGliL21vZGVsL3R5cGVzJztcbmltcG9ydCB7IEVtYmVkZGluZ0Jsb2NrIH0gZnJvbSAnLi9sYXllcnMvRW1iZWRkaW5nQmxvY2snO1xuaW1wb3J0IHsgUG9vbGluZ0Jsb2NrIH0gZnJvbSAnLi9sYXllcnMvUG9vbGluZ0Jsb2NrJztcbmltcG9ydCB7IERyb3BvdXRCbG9jayB9IGZyb20gJy4vbGF5ZXJzL0Ryb3BvdXRCbG9jayc7XG5pbXBvcnQgeyBGbGF0dGVuQmxvY2sgfSBmcm9tICcuL2xheWVycy9GbGF0dGVuQmxvY2snO1xuXG50eXBlIFNjZW5lUHJvcHMgPSB7XG4gIGhpZ2hsaWdodGVkU2VjdGlvbjogTGF5ZXJUeXBlIHwgbnVsbDtcbiAgc2V0SGlnaGxpZ2h0ZWRTZWN0aW9uOiAoc2VjdGlvbjogTGF5ZXJUeXBlIHwgbnVsbCkgPT4gdm9pZDtcbiAgcG93ZXJNb2RlOiBib29sZWFuO1xuICBjb250cm9sc1JlZjogUmVhY3QuUmVmT2JqZWN0PGFueT47XG4gIGF1dG9Sb3RhdGU6IGJvb2xlYW47XG4gIGFuYWx5c2lzUmVzdWx0PzogQW5hbHlzaXNSZXN1bHQgfCBudWxsO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIFNjZW5lKHsgXG4gIGhpZ2hsaWdodGVkU2VjdGlvbiwgXG4gIHNldEhpZ2hsaWdodGVkU2VjdGlvbiwgXG4gIHBvd2VyTW9kZSxcbiAgY29udHJvbHNSZWYsXG4gIGF1dG9Sb3RhdGUsXG4gIGFuYWx5c2lzUmVzdWx0XG59OiBTY2VuZVByb3BzKSB7XG4gIGNvbnN0IHsgY2FtZXJhIH0gPSB1c2VUaHJlZSgpO1xuICBjb25zdCBbZm9jdXNlZExheWVyLCBzZXRGb2N1c2VkTGF5ZXJdID0gdXNlU3RhdGU8TGF5ZXJUeXBlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGluaXRpYWxDYW1lcmFQb3NpdGlvbiA9IHVzZU1lbW8oKCkgPT4gbmV3IFRIUkVFLlZlY3RvcjMoMCwgMiwgMjApLCBbXSk7XG4gIGNvbnN0IGNhbWVyYVRhcmdldCA9IHVzZVJlZihuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSk7XG4gIGNvbnN0IHRyYW5zaXRpb25TdGFydFRpbWUgPSB1c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHRyYW5zaXRpb25EdXJhdGlvbiA9IDEwMDA7IC8vIDEgc2Vjb25kIHRyYW5zaXRpb25cbiAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IHVzZVJlZihuZXcgVEhSRUUuVmVjdG9yMygpKTtcbiAgY29uc3QgdGFyZ2V0UG9zaXRpb24gPSB1c2VSZWYobmV3IFRIUkVFLlZlY3RvcjMoKSk7XG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNhbWVyYS5wb3NpdGlvbi5jb3B5KGluaXRpYWxDYW1lcmFQb3NpdGlvbik7XG4gIH0sIFtjYW1lcmEsIGluaXRpYWxDYW1lcmFQb3NpdGlvbl0pO1xuXG4gIC8vIEdlbmVyYXRlIGxheW91dCBiYXNlZCBvbiBhbmFseXNpcyByZXN1bHQgb3IgdXNlIGRlZmF1bHQgbGF5b3V0XG4gIGNvbnN0IHNlY3Rpb25zID0gdXNlTWVtbygoKSA9PiBnZW5lcmF0ZUxheW91dChhbmFseXNpc1Jlc3VsdCksIFthbmFseXNpc1Jlc3VsdF0pO1xuXG4gIC8vIEdlbmVyYXRlIGNvbm5lY3Rpb25zXG4gIGNvbnN0IGNvbm5lY3Rpb25zID0gdXNlTWVtbygoKSA9PiBnZW5lcmF0ZUNvbm5lY3Rpb25zKHNlY3Rpb25zLCBhbmFseXNpc1Jlc3VsdCksIFtzZWN0aW9ucywgYW5hbHlzaXNSZXN1bHRdKTtcblxuICBjb25zdCBDb21wb25lbnRzID0ge1xuICAgIGlucHV0OiBJbnB1dExheWVyLFxuICAgIGNubjogQ05OQmxvY2ssXG4gICAgdHJhbnNmb3JtZXI6IFRyYW5zZm9ybWVyQmxvY2ssXG4gICAgcm5uOiBSTk5CbG9jayxcbiAgICBvdXRwdXQ6IE91dHB1dExheWVyLFxuICAgIG1scDogTUxQQmxvY2ssXG4gICAgZ3JhcGg6IEdyYXBoQmxvY2ssXG4gICAgcmVzaWR1YWw6IFJlc2lkdWFsQmxvY2ssXG4gICAgbm9ybWFsaXphdGlvbjogTm9ybWFsaXphdGlvbkJsb2NrLFxuICAgIGF0dGVudGlvbjogQXR0ZW50aW9uQmxvY2ssXG4gICAgZW1iZWRkaW5nOiBFbWJlZGRpbmdCbG9jayxcbiAgICBwb29saW5nOiBQb29saW5nQmxvY2ssXG4gICAgZHJvcG91dDogRHJvcG91dEJsb2NrLFxuICAgIGZsYXR0ZW46IEZsYXR0ZW5CbG9ja1xuICB9IGFzIGNvbnN0O1xuXG4gIC8vIFVwZGF0ZSB0aGUgdHlwZSB0byBtYXRjaCB0aGUgY29tcG9uZW50c1xuICB0eXBlIExheWVyVHlwZSA9IGtleW9mIHR5cGVvZiBDb21wb25lbnRzO1xuXG4gIGNvbnN0IGhhbmRsZUxheWVyQ2xpY2sgPSAodHlwZTogTGF5ZXJUeXBlKSA9PiB7XG4gICAgaWYgKGZvY3VzZWRMYXllciA9PT0gdHlwZSkge1xuICAgICAgLy8gUmV0dXJuIHRvIG92ZXJ2aWV3XG4gICAgICBzZXRGb2N1c2VkTGF5ZXIobnVsbCk7XG4gICAgICB0cmFuc2l0aW9uU3RhcnRUaW1lLmN1cnJlbnQgPSBEYXRlLm5vdygpO1xuICAgICAgc3RhcnRQb3NpdGlvbi5jdXJyZW50LmNvcHkoY2FtZXJhLnBvc2l0aW9uKTtcbiAgICAgIHRhcmdldFBvc2l0aW9uLmN1cnJlbnQuY29weShpbml0aWFsQ2FtZXJhUG9zaXRpb24pO1xuICAgICAgY2FtZXJhVGFyZ2V0LmN1cnJlbnQuc2V0KDAsIDAsIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb2N1cyBvbiBsYXllclxuICAgICAgc2V0Rm9jdXNlZExheWVyKHR5cGUpO1xuICAgICAgY29uc3Qgc2VjdGlvbiA9IHNlY3Rpb25zLmZpbmQocyA9PiBzLnR5cGUgPT09IHR5cGUpO1xuICAgICAgaWYgKHNlY3Rpb24pIHtcbiAgICAgICAgdHJhbnNpdGlvblN0YXJ0VGltZS5jdXJyZW50ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgc3RhcnRQb3NpdGlvbi5jdXJyZW50LmNvcHkoY2FtZXJhLnBvc2l0aW9uKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0YXJnZXQgcG9zaXRpb24gYmFzZWQgb24gbGF5ZXIgcG9zaXRpb25cbiAgICAgICAgY29uc3QgbGF5ZXJQb3MgPSBuZXcgVEhSRUUuVmVjdG9yMyguLi5zZWN0aW9uLnBvc2l0aW9uKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgNik7IC8vIFZpZXdpbmcgZGlzdGFuY2VcbiAgICAgICAgdGFyZ2V0UG9zaXRpb24uY3VycmVudC5jb3B5KGxheWVyUG9zKS5hZGQob2Zmc2V0KTtcbiAgICAgICAgY2FtZXJhVGFyZ2V0LmN1cnJlbnQuY29weShsYXllclBvcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHNldEhpZ2hsaWdodGVkU2VjdGlvbih0eXBlKTtcbiAgfTtcblxuICAvLyBTbW9vdGggY2FtZXJhIGFuaW1hdGlvblxuICB1c2VGcmFtZSgoKSA9PiB7XG4gICAgaWYgKHRyYW5zaXRpb25TdGFydFRpbWUuY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgZWxhcHNlZCA9IERhdGUubm93KCkgLSB0cmFuc2l0aW9uU3RhcnRUaW1lLmN1cnJlbnQ7XG4gICAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWluKGVsYXBzZWQgLyB0cmFuc2l0aW9uRHVyYXRpb24sIDEpO1xuICAgICAgXG4gICAgICAvLyBTbW9vdGggZWFzaW5nIGZ1bmN0aW9uXG4gICAgICBjb25zdCBlYXNlZCA9IDEgLSBNYXRoLnBvdygxIC0gcHJvZ3Jlc3MsIDMpO1xuICAgICAgXG4gICAgICBpZiAocHJvZ3Jlc3MgPCAxKSB7XG4gICAgICAgIC8vIEludGVycG9sYXRlIHBvc2l0aW9uXG4gICAgICAgIGNhbWVyYS5wb3NpdGlvbi5sZXJwVmVjdG9ycyhcbiAgICAgICAgICBzdGFydFBvc2l0aW9uLmN1cnJlbnQsXG4gICAgICAgICAgdGFyZ2V0UG9zaXRpb24uY3VycmVudCxcbiAgICAgICAgICBlYXNlZFxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgLy8gSW50ZXJwb2xhdGUgbG9vay1hdCB0YXJnZXRcbiAgICAgICAgaWYgKGNvbnRyb2xzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50VGFyZ2V0ID0gY29udHJvbHNSZWYuY3VycmVudC50YXJnZXQ7XG4gICAgICAgICAgY3VycmVudFRhcmdldC5sZXJwKGNhbWVyYVRhcmdldC5jdXJyZW50LCBlYXNlZCk7XG4gICAgICAgICAgY29udHJvbHNSZWYuY3VycmVudC51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNpdGlvblN0YXJ0VGltZS5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gU3VidGxlIGNhbWVyYSBtb3ZlbWVudCBpbiBwb3dlciBtb2RlXG4gICAgaWYgKHBvd2VyTW9kZSAmJiAhZm9jdXNlZExheWVyICYmICF0cmFuc2l0aW9uU3RhcnRUaW1lLmN1cnJlbnQpIHtcbiAgICAgIGNhbWVyYS5wb3NpdGlvbi55ICs9IE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwMSkgKiAwLjAxO1xuICAgICAgY2FtZXJhLnBvc2l0aW9uLnggKz0gTWF0aC5jb3MoRGF0ZS5ub3coKSAqIDAuMDAxKSAqIDAuMDE7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8UGVyc3BlY3RpdmVDYW1lcmEgbWFrZURlZmF1bHQgcG9zaXRpb249e1swLCAyLCAyMF19IGZvdj17NjB9IC8+XG4gICAgICA8YW1iaWVudExpZ2h0IGludGVuc2l0eT17cG93ZXJNb2RlID8gMSA6IDAuNX0gLz5cbiAgICAgIDxwb2ludExpZ2h0IHBvc2l0aW9uPXtbMTAsIDEwLCAxMF19IGludGVuc2l0eT17cG93ZXJNb2RlID8gMyA6IDF9IC8+XG4gICAgICBcbiAgICAgIHtwb3dlck1vZGUgJiYgKFxuICAgICAgICA8cG9pbnRMaWdodCBcbiAgICAgICAgICBwb3NpdGlvbj17W1xuICAgICAgICAgICAgTWF0aC5zaW4oRGF0ZS5ub3coKSAqIDAuMDAxKSAqIDE1LFxuICAgICAgICAgICAgTWF0aC5jb3MoRGF0ZS5ub3coKSAqIDAuMDAxKSAqIDE1LFxuICAgICAgICAgICAgNVxuICAgICAgICAgIF19IFxuICAgICAgICAgIGludGVuc2l0eT17Mn1cbiAgICAgICAgICBjb2xvcj1cIiMwMGZmZmZcIlxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIFxuICAgICAge2Nvbm5lY3Rpb25zLm1hcCgoY29ubmVjdGlvbiwgaWR4KSA9PiAoXG4gICAgICAgIDxEYXRhRmxvd0xpbmVcbiAgICAgICAgICBrZXk9e2Ake2Nvbm5lY3Rpb24uc3RhcnRTZWN0aW9ufS0ke2Nvbm5lY3Rpb24uZW5kU2VjdGlvbn0tJHtpZHh9YH1cbiAgICAgICAgICBwb2ludHM9e2Nvbm5lY3Rpb24ucG9pbnRzfVxuICAgICAgICAgIGNvbG9yPXtjb25uZWN0aW9uLmNvbG9yfVxuICAgICAgICAgIHBvd2VyTW9kZT17cG93ZXJNb2RlfVxuICAgICAgICAgIGlzSGlnaGxpZ2h0ZWQ9e1xuICAgICAgICAgICAgaGlnaGxpZ2h0ZWRTZWN0aW9uID09PSBjb25uZWN0aW9uLnN0YXJ0U2VjdGlvbiB8fFxuICAgICAgICAgICAgaGlnaGxpZ2h0ZWRTZWN0aW9uID09PSBjb25uZWN0aW9uLmVuZFNlY3Rpb25cbiAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgICApKX1cbiAgICAgIFxuICAgICAge3NlY3Rpb25zLm1hcCgoeyB0eXBlLCBwb3NpdGlvbiwgaWQgfSkgPT4ge1xuICAgICAgICBjb25zdCBDb21wb25lbnQgPSBDb21wb25lbnRzW3R5cGVdO1xuICAgICAgICBjb25zdCBub2RlRGF0YSA9IGFuYWx5c2lzUmVzdWx0Py5ncmFwaD8ubm9kZXM/LmZpbmQobm9kZSA9PiBub2RlLmlkID09PSBpZCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxDb21wb25lbnRcbiAgICAgICAgICAgIGtleT17aWQgfHwgdHlwZX1cbiAgICAgICAgICAgIHBvc2l0aW9uPXtwb3NpdGlvbiBhcyBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl19XG4gICAgICAgICAgICBpc0hpZ2hsaWdodGVkPXtoaWdobGlnaHRlZFNlY3Rpb24gPT09IHR5cGV9XG4gICAgICAgICAgICBvblBvaW50ZXJPdmVyPXsoKSA9PiAhZm9jdXNlZExheWVyICYmIHNldEhpZ2hsaWdodGVkU2VjdGlvbih0eXBlKX1cbiAgICAgICAgICAgIG9uUG9pbnRlck91dD17KCkgPT4gIWZvY3VzZWRMYXllciAmJiBzZXRIaWdobGlnaHRlZFNlY3Rpb24obnVsbCl9XG4gICAgICAgICAgICBwb3dlck1vZGU9e3Bvd2VyTW9kZX1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUxheWVyQ2xpY2sodHlwZSl9XG4gICAgICAgICAgICBpc0ZvY3VzZWQ9e2ZvY3VzZWRMYXllciA9PT0gdHlwZX1cbiAgICAgICAgICAgIG5vZGVEYXRhPXtub2RlRGF0YX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgICBcbiAgICAgIHtwb3dlck1vZGUgJiYgKFxuICAgICAgICA8RWZmZWN0Q29tcG9zZXI+XG4gICAgICAgICAgPEJsb29tXG4gICAgICAgICAgICBpbnRlbnNpdHk9ezEuNX1cbiAgICAgICAgICAgIGx1bWluYW5jZVRocmVzaG9sZD17MC4yfVxuICAgICAgICAgICAgbHVtaW5hbmNlU21vb3RoaW5nPXswLjl9XG4gICAgICAgICAgICBoZWlnaHQ9ezMwMH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0VmZmVjdENvbXBvc2VyPlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgPE9yYml0Q29udHJvbHNcbiAgICAgICAgcmVmPXtjb250cm9sc1JlZn1cbiAgICAgICAgZW5hYmxlWm9vbT17dHJ1ZX1cbiAgICAgICAgZW5hYmxlUGFuPXshZm9jdXNlZExheWVyfVxuICAgICAgICBhdXRvUm90YXRlPXshZm9jdXNlZExheWVyICYmIGF1dG9Sb3RhdGV9XG4gICAgICAgIGF1dG9Sb3RhdGVTcGVlZD17cG93ZXJNb2RlID8gMSA6IDB9XG4gICAgICAgIG1heERpc3RhbmNlPXszMH1cbiAgICAgICAgbWluRGlzdGFuY2U9ezV9XG4gICAgICAgIGRhbXBpbmdGYWN0b3I9ezAuMDV9XG4gICAgICAgIHJvdGF0ZVNwZWVkPXswLjV9XG4gICAgICAgIGVuYWJsZWQ9eyFmb2N1c2VkTGF5ZXIgJiYgIXRyYW5zaXRpb25TdGFydFRpbWUuY3VycmVudH1cbiAgICAgIC8+XG4gICAgPC8+XG4gICk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTGF5b3V0KGFuYWx5c2lzUmVzdWx0OiBBbmFseXNpc1Jlc3VsdCB8IG51bGwgfCB1bmRlZmluZWQpIHtcbiAgY29uc29sZS5sb2coJ0FuYWx5c2lzIFJlc3VsdDonLCBhbmFseXNpc1Jlc3VsdD8uZ3JhcGg/Lm5vZGVzKTtcbiAgXG4gIGNvbnN0IHJhZGl1cyA9IDg7XG4gIGNvbnN0IGRlZmF1bHRMYXlvdXQgPSBbXG4gICAgeyBpZDogJ2lucHV0JywgdHlwZTogJ2lucHV0JyBhcyBMYXllclR5cGUsIHBvc2l0aW9uOiBbLXJhZGl1cyAqIDEuNSwgcmFkaXVzICogMC41LCAwXSB9LFxuICAgIHsgaWQ6ICdjbm4nLCB0eXBlOiAnY25uJyBhcyBMYXllclR5cGUsIHBvc2l0aW9uOiBbLXJhZGl1cywgcmFkaXVzICogMC44LCAwXSB9LFxuICAgIHsgaWQ6ICdtbHAnLCB0eXBlOiAnbWxwJyBhcyBMYXllclR5cGUsIHBvc2l0aW9uOiBbLXJhZGl1cyAqIDAuNSwgcmFkaXVzLCAwXSB9LFxuICAgIHsgaWQ6ICd0cmFuc2Zvcm1lcicsIHR5cGU6ICd0cmFuc2Zvcm1lcicgYXMgTGF5ZXJUeXBlLCBwb3NpdGlvbjogWzAsIHJhZGl1cywgMF0gfSxcbiAgICB7IGlkOiAnYXR0ZW50aW9uJywgdHlwZTogJ2F0dGVudGlvbicgYXMgTGF5ZXJUeXBlLCBwb3NpdGlvbjogW3JhZGl1cyAqIDAuNSwgcmFkaXVzLCAwXSB9LFxuICAgIHsgaWQ6ICdybm4nLCB0eXBlOiAncm5uJyBhcyBMYXllclR5cGUsIHBvc2l0aW9uOiBbcmFkaXVzLCByYWRpdXMgKiAwLjgsIDBdIH0sXG4gICAgeyBpZDogJ2dyYXBoJywgdHlwZTogJ2dyYXBoJyBhcyBMYXllclR5cGUsIHBvc2l0aW9uOiBbcmFkaXVzICogMS41LCByYWRpdXMgKiAwLjUsIDBdIH0sXG4gICAgeyBpZDogJ3Jlc2lkdWFsJywgdHlwZTogJ3Jlc2lkdWFsJyBhcyBMYXllclR5cGUsIHBvc2l0aW9uOiBbcmFkaXVzICogMS41LCAtcmFkaXVzICogMC41LCAwXSB9LFxuICAgIHsgaWQ6ICdub3JtYWxpemF0aW9uJywgdHlwZTogJ25vcm1hbGl6YXRpb24nIGFzIExheWVyVHlwZSwgcG9zaXRpb246IFtyYWRpdXMsIC1yYWRpdXMgKiAwLjgsIDBdIH0sXG4gICAgeyBpZDogJ291dHB1dCcsIHR5cGU6ICdvdXRwdXQnIGFzIExheWVyVHlwZSwgcG9zaXRpb246IFswLCAtcmFkaXVzLCAwXSB9XG4gIF07XG5cbiAgaWYgKCFhbmFseXNpc1Jlc3VsdD8uZ3JhcGg/Lm5vZGVzKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRMYXlvdXQ7XG4gIH1cblxuICBjb25zdCBkZXB0aHMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuICBjb25zdCBkZXB0aEdyb3VwcyA9IG5ldyBNYXA8bnVtYmVyLCBzdHJpbmdbXT4oKTtcbiAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICBcbiAgZnVuY3Rpb24gY2FsY3VsYXRlRGVwdGgobm9kZUlkOiBzdHJpbmcsIGRlcHRoOiBudW1iZXIgPSAwKSB7XG4gICAgaWYgKHZpc2l0ZWQuaGFzKG5vZGVJZCkpIHtcbiAgICAgIC8vIFVwZGF0ZSBkZXB0aCBpZiB3ZSBmb3VuZCBhIGxvbmdlciBwYXRoXG4gICAgICBpZiAoZGVwdGggPiAoZGVwdGhzLmdldChub2RlSWQpIHx8IDApKSB7XG4gICAgICAgIGRlcHRocy5zZXQobm9kZUlkLCBkZXB0aCk7XG4gICAgICAgIC8vIFJlY2FsY3VsYXRlIGNoaWxkcmVuIHdpdGggbmV3IGRlcHRoXG4gICAgICAgIGFuYWx5c2lzUmVzdWx0Py5ncmFwaD8uZWRnZXNcbiAgICAgICAgICAuZmlsdGVyKGUgPT4gZS5mcm9tID09PSBub2RlSWQpXG4gICAgICAgICAgLmZvckVhY2goZWRnZSA9PiBjYWxjdWxhdGVEZXB0aChlZGdlLnRvLCBkZXB0aCArIDEpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgdmlzaXRlZC5hZGQobm9kZUlkKTtcbiAgICBkZXB0aHMuc2V0KG5vZGVJZCwgZGVwdGgpO1xuICAgIGlmICghZGVwdGhHcm91cHMuaGFzKGRlcHRoKSkge1xuICAgICAgZGVwdGhHcm91cHMuc2V0KGRlcHRoLCBbXSk7XG4gICAgfVxuICAgIGRlcHRoR3JvdXBzLmdldChkZXB0aCk/LnB1c2gobm9kZUlkKTtcbiAgICBcbiAgICAvLyBQcm9jZXNzIGNoaWxkcmVuXG4gICAgYW5hbHlzaXNSZXN1bHQ/LmdyYXBoPy5lZGdlc1xuICAgICAgLmZpbHRlcihlID0+IGUuZnJvbSA9PT0gbm9kZUlkKVxuICAgICAgLmZvckVhY2goZWRnZSA9PiBjYWxjdWxhdGVEZXB0aChlZGdlLnRvLCBkZXB0aCArIDEpKTtcbiAgfVxuICBcbiAgLy8gU3RhcnQgZnJvbSBpbnB1dCBub2Rlc1xuICBhbmFseXNpc1Jlc3VsdC5ncmFwaC5ub2Rlc1xuICAgIC5maWx0ZXIobiA9PiBuLnR5cGUgPT09ICdpbnB1dCcpXG4gICAgLmZvckVhY2gobiA9PiBjYWxjdWxhdGVEZXB0aChuLmlkKSk7XG5cbiAgY29uc3QgbWF4RGVwdGggPSBNYXRoLm1heCguLi5BcnJheS5mcm9tKGRlcHRocy52YWx1ZXMoKSkpO1xuICBcbiAgLy8gQ2FsY3VsYXRlIG1heGltdW0gbm9kZXMgYXQgYW55IGRlcHRoIGZvciBzY2FsaW5nXG4gIGNvbnN0IG1heE5vZGVzQXREZXB0aCA9IE1hdGgubWF4KFxuICAgIC4uLkFycmF5LmZyb20oZGVwdGhHcm91cHMudmFsdWVzKCkpLm1hcChncm91cCA9PiBncm91cC5sZW5ndGgpXG4gICk7XG5cbiAgcmV0dXJuIGFuYWx5c2lzUmVzdWx0LmdyYXBoLm5vZGVzLm1hcChub2RlID0+IHtcbiAgICBjb25zdCBkZXB0aCA9IGRlcHRocy5nZXQobm9kZS5pZCkgfHwgMDtcbiAgICBjb25zdCBkZXB0aE5vZGVzID0gZGVwdGhHcm91cHMuZ2V0KGRlcHRoKSB8fCBbXTtcbiAgICBjb25zdCBub2RlSW5kZXggPSBkZXB0aE5vZGVzLmluZGV4T2Yobm9kZS5pZCk7XG4gICAgY29uc3Qgbm9kZXNJbkxheWVyID0gZGVwdGhOb2Rlcy5sZW5ndGg7XG4gICAgXG4gICAgLy8gQWRqdXN0IHNwYWNpbmcgYmFzZWQgb24gbnVtYmVyIG9mIG5vZGVzXG4gICAgY29uc3Qgc3BhY2luZ0ZhY3RvciA9IE1hdGgubWluKDEsIDQgLyBtYXhOb2Rlc0F0RGVwdGgpO1xuICAgIGNvbnN0IGFuZ2xlU3ByZWFkID0gTWF0aC5QSSAqIDAuODsgLy8gUmVkdWNlIGZyb20gZnVsbCBjaXJjbGUgdG8gcGFydGlhbCBhcmNcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgYmFzZSBhbmdsZSBhbmQgb2Zmc2V0XG4gICAgY29uc3QgYmFzZUFuZ2xlID0gKGRlcHRoIC8gbWF4RGVwdGgpICogYW5nbGVTcHJlYWQgLSAoYW5nbGVTcHJlYWQgLyAyKTtcbiAgICBjb25zdCBhbmdsZU9mZnNldCA9ICgobm9kZUluZGV4IC0gKG5vZGVzSW5MYXllciAtIDEpIC8gMikgKiBzcGFjaW5nRmFjdG9yKSAqIChNYXRoLlBJIC8gOCk7XG4gICAgY29uc3QgYW5nbGUgPSBiYXNlQW5nbGUgKyBhbmdsZU9mZnNldDtcbiAgICBcbiAgICAvLyBBZGQgc29tZSByYW5kb21pemF0aW9uIHRvIFogY29vcmRpbmF0ZSB0byBwcmV2ZW50IHBlcmZlY3Qgb3ZlcmxhcHNcbiAgICBjb25zdCB6T2Zmc2V0ID0gKG5vZGVJbmRleCAlIDIpICogMC41O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBpZDogbm9kZS5pZCxcbiAgICAgIHR5cGU6IG5vZGUudHlwZSBhcyBMYXllclR5cGUsXG4gICAgICBwb3NpdGlvbjogW1xuICAgICAgICByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSksXG4gICAgICAgIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgcmFkaXVzICogMC4yICogTWF0aC5zaW4oYW5nbGVPZmZzZXQpICsgek9mZnNldFxuICAgICAgXVxuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUNvbm5lY3Rpb25zKHNlY3Rpb25zOiBhbnlbXSwgYW5hbHlzaXNSZXN1bHQ6IEFuYWx5c2lzUmVzdWx0IHwgbnVsbCB8IHVuZGVmaW5lZCkge1xuICAvLyBEZWZhdWx0IGNvbm5lY3Rpb25zXG4gIGNvbnN0IGRlZmF1bHRQYXRocyA9IFtcbiAgICB7IHN0YXJ0OiAnaW5wdXQnLCBlbmQ6ICdjbm4nIH0sXG4gICAgeyBzdGFydDogJ2NubicsIGVuZDogJ21scCcgfSxcbiAgICB7IHN0YXJ0OiAnbWxwJywgZW5kOiAndHJhbnNmb3JtZXInIH0sXG4gICAgeyBzdGFydDogJ3RyYW5zZm9ybWVyJywgZW5kOiAnYXR0ZW50aW9uJyB9LFxuICAgIHsgc3RhcnQ6ICdhdHRlbnRpb24nLCBlbmQ6ICdybm4nIH0sXG4gICAgeyBzdGFydDogJ3JubicsIGVuZDogJ2dyYXBoJyB9LFxuICAgIHsgc3RhcnQ6ICdncmFwaCcsIGVuZDogJ3Jlc2lkdWFsJyB9LFxuICAgIHsgc3RhcnQ6ICdyZXNpZHVhbCcsIGVuZDogJ25vcm1hbGl6YXRpb24nIH0sXG4gICAgeyBzdGFydDogJ25vcm1hbGl6YXRpb24nLCBlbmQ6ICdvdXRwdXQnIH1cbiAgXTtcblxuICBpZiAoIWFuYWx5c2lzUmVzdWx0Py5ncmFwaD8uZWRnZXMpIHtcbiAgICByZXR1cm4gZGVmYXVsdFBhdGhzLm1hcCgoeyBzdGFydCwgZW5kIH0pID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0U2VjdGlvbiA9IHNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBzdGFydCk7XG4gICAgICBjb25zdCBlbmRTZWN0aW9uID0gc2VjdGlvbnMuZmluZChzID0+IHMuaWQgPT09IGVuZCk7XG4gICAgICBcbiAgICAgIGlmICghc3RhcnRTZWN0aW9uIHx8ICFlbmRTZWN0aW9uKSByZXR1cm4gbnVsbDtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcG9pbnRzOiBjcmVhdGVDdXJ2ZWRQYXRoKHN0YXJ0U2VjdGlvbi5wb3NpdGlvbiwgZW5kU2VjdGlvbi5wb3NpdGlvbiwgMiksXG4gICAgICAgIGNvbG9yOiBMQVlFUl9DT0xPUlNbZW5kU2VjdGlvbi50eXBlXSxcbiAgICAgICAgc3RhcnRTZWN0aW9uOiBzdGFydFNlY3Rpb24udHlwZSxcbiAgICAgICAgZW5kU2VjdGlvbjogZW5kU2VjdGlvbi50eXBlXG4gICAgICB9O1xuICAgIH0pLmZpbHRlcihCb29sZWFuKTtcbiAgfVxuXG4gIHJldHVybiBhbmFseXNpc1Jlc3VsdC5ncmFwaC5lZGdlcy5tYXAoZWRnZSA9PiB7XG4gICAgY29uc3Qgc3RhcnROb2RlID0gYW5hbHlzaXNSZXN1bHQuZ3JhcGgubm9kZXMuZmluZChuID0+IG4uaWQgPT09IGVkZ2UuZnJvbSk7XG4gICAgY29uc3QgZW5kTm9kZSA9IGFuYWx5c2lzUmVzdWx0LmdyYXBoLm5vZGVzLmZpbmQobiA9PiBuLmlkID09PSBlZGdlLnRvKTtcbiAgICBcbiAgICBpZiAoIXN0YXJ0Tm9kZSB8fCAhZW5kTm9kZSkgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgY29uc3Qgc3RhcnRTZWN0aW9uID0gc2VjdGlvbnMuZmluZChzID0+IHMuaWQgPT09IGVkZ2UuZnJvbSk7XG4gICAgY29uc3QgZW5kU2VjdGlvbiA9IHNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBlZGdlLnRvKTtcbiAgICBcbiAgICBpZiAoIXN0YXJ0U2VjdGlvbiB8fCAhZW5kU2VjdGlvbikgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcG9pbnRzOiBjcmVhdGVDdXJ2ZWRQYXRoKHN0YXJ0U2VjdGlvbi5wb3NpdGlvbiwgZW5kU2VjdGlvbi5wb3NpdGlvbiwgMiksXG4gICAgICBjb2xvcjogTEFZRVJfQ09MT1JTW2VuZE5vZGUudHlwZV0sXG4gICAgICBzdGFydFNlY3Rpb246IHN0YXJ0Tm9kZS50eXBlLFxuICAgICAgZW5kU2VjdGlvbjogZW5kTm9kZS50eXBlXG4gICAgfTtcbiAgfSkuZmlsdGVyKEJvb2xlYW4pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDdXJ2ZWRQYXRoKHN0YXJ0OiBudW1iZXJbXSwgZW5kOiBudW1iZXJbXSwgaGVpZ2h0OiBudW1iZXIgPSAyKSB7XG4gIGNvbnN0IHBvaW50cyA9IFtdO1xuICBjb25zdCBtaWRQb2ludCA9IFtcbiAgICAoc3RhcnRbMF0gKyBlbmRbMF0pIC8gMixcbiAgICAoc3RhcnRbMV0gKyBlbmRbMV0pIC8gMiArIGhlaWdodCxcbiAgICAoc3RhcnRbMl0gKyBlbmRbMl0pIC8gMlxuICBdO1xuICBcbiAgZm9yIChsZXQgdCA9IDA7IHQgPD0gMTsgdCArPSAwLjA1KSB7XG4gICAgY29uc3QgeCA9IE1hdGgucG93KDEgLSB0LCAyKSAqIHN0YXJ0WzBdICsgMiAqICgxIC0gdCkgKiB0ICogbWlkUG9pbnRbMF0gKyBNYXRoLnBvdyh0LCAyKSAqIGVuZFswXTtcbiAgICBjb25zdCB5ID0gTWF0aC5wb3coMSAtIHQsIDIpICogc3RhcnRbMV0gKyAyICogKDEgLSB0KSAqIHQgKiBtaWRQb2ludFsxXSArIE1hdGgucG93KHQsIDIpICogZW5kWzFdO1xuICAgIGNvbnN0IHogPSBNYXRoLnBvdygxIC0gdCwgMikgKiBzdGFydFsyXSArIDIgKiAoMSAtIHQpICogdCAqIG1pZFBvaW50WzJdICsgTWF0aC5wb3codCwgMikgKiBlbmRbMl07XG4gICAgXG4gICAgcG9pbnRzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoeCwgeSwgeikpO1xuICB9XG4gIHJldHVybiBwb2ludHM7XG59Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlTWVtbyIsInVzZVRocmVlIiwidXNlRnJhbWUiLCJPcmJpdENvbnRyb2xzIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJFZmZlY3RDb21wb3NlciIsIkJsb29tIiwiVEhSRUUiLCJMQVlFUl9DT0xPUlMiLCJEYXRhRmxvd0xpbmUiLCJJbnB1dExheWVyIiwiQ05OQmxvY2siLCJUcmFuc2Zvcm1lckJsb2NrIiwiUk5OQmxvY2siLCJPdXRwdXRMYXllciIsIk1MUEJsb2NrIiwiR3JhcGhCbG9jayIsIlJlc2lkdWFsQmxvY2siLCJOb3JtYWxpemF0aW9uQmxvY2siLCJBdHRlbnRpb25CbG9jayIsIkVtYmVkZGluZ0Jsb2NrIiwiUG9vbGluZ0Jsb2NrIiwiRHJvcG91dEJsb2NrIiwiRmxhdHRlbkJsb2NrIiwiU2NlbmUiLCJoaWdobGlnaHRlZFNlY3Rpb24iLCJzZXRIaWdobGlnaHRlZFNlY3Rpb24iLCJwb3dlck1vZGUiLCJjb250cm9sc1JlZiIsImF1dG9Sb3RhdGUiLCJhbmFseXNpc1Jlc3VsdCIsImNhbWVyYSIsImZvY3VzZWRMYXllciIsInNldEZvY3VzZWRMYXllciIsImluaXRpYWxDYW1lcmFQb3NpdGlvbiIsIlZlY3RvcjMiLCJjYW1lcmFUYXJnZXQiLCJ0cmFuc2l0aW9uU3RhcnRUaW1lIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwic3RhcnRQb3NpdGlvbiIsInRhcmdldFBvc2l0aW9uIiwicG9zaXRpb24iLCJjb3B5Iiwic2VjdGlvbnMiLCJnZW5lcmF0ZUxheW91dCIsImNvbm5lY3Rpb25zIiwiZ2VuZXJhdGVDb25uZWN0aW9ucyIsIkNvbXBvbmVudHMiLCJpbnB1dCIsImNubiIsInRyYW5zZm9ybWVyIiwicm5uIiwib3V0cHV0IiwibWxwIiwiZ3JhcGgiLCJyZXNpZHVhbCIsIm5vcm1hbGl6YXRpb24iLCJhdHRlbnRpb24iLCJlbWJlZGRpbmciLCJwb29saW5nIiwiZHJvcG91dCIsImZsYXR0ZW4iLCJoYW5kbGVMYXllckNsaWNrIiwidHlwZSIsImN1cnJlbnQiLCJEYXRlIiwibm93Iiwic2V0Iiwic2VjdGlvbiIsImZpbmQiLCJzIiwibGF5ZXJQb3MiLCJvZmZzZXQiLCJhZGQiLCJlbGFwc2VkIiwicHJvZ3Jlc3MiLCJNYXRoIiwibWluIiwiZWFzZWQiLCJwb3ciLCJsZXJwVmVjdG9ycyIsImN1cnJlbnRUYXJnZXQiLCJ0YXJnZXQiLCJsZXJwIiwidXBkYXRlIiwieSIsInNpbiIsIngiLCJjb3MiLCJtYWtlRGVmYXVsdCIsImZvdiIsImFtYmllbnRMaWdodCIsImludGVuc2l0eSIsInBvaW50TGlnaHQiLCJjb2xvciIsIm1hcCIsImNvbm5lY3Rpb24iLCJpZHgiLCJwb2ludHMiLCJpc0hpZ2hsaWdodGVkIiwic3RhcnRTZWN0aW9uIiwiZW5kU2VjdGlvbiIsImlkIiwiQ29tcG9uZW50Iiwibm9kZURhdGEiLCJub2RlcyIsIm5vZGUiLCJvblBvaW50ZXJPdmVyIiwib25Qb2ludGVyT3V0Iiwib25DbGljayIsImlzRm9jdXNlZCIsImx1bWluYW5jZVRocmVzaG9sZCIsImx1bWluYW5jZVNtb290aGluZyIsImhlaWdodCIsInJlZiIsImVuYWJsZVpvb20iLCJlbmFibGVQYW4iLCJhdXRvUm90YXRlU3BlZWQiLCJtYXhEaXN0YW5jZSIsIm1pbkRpc3RhbmNlIiwiZGFtcGluZ0ZhY3RvciIsInJvdGF0ZVNwZWVkIiwiZW5hYmxlZCIsImNvbnNvbGUiLCJsb2ciLCJyYWRpdXMiLCJkZWZhdWx0TGF5b3V0IiwiZGVwdGhzIiwiTWFwIiwiZGVwdGhHcm91cHMiLCJ2aXNpdGVkIiwiU2V0IiwiY2FsY3VsYXRlRGVwdGgiLCJub2RlSWQiLCJkZXB0aCIsImhhcyIsImdldCIsImVkZ2VzIiwiZmlsdGVyIiwiZSIsImZyb20iLCJmb3JFYWNoIiwiZWRnZSIsInRvIiwicHVzaCIsIm4iLCJtYXhEZXB0aCIsIm1heCIsIkFycmF5IiwidmFsdWVzIiwibWF4Tm9kZXNBdERlcHRoIiwiZ3JvdXAiLCJsZW5ndGgiLCJkZXB0aE5vZGVzIiwibm9kZUluZGV4IiwiaW5kZXhPZiIsIm5vZGVzSW5MYXllciIsInNwYWNpbmdGYWN0b3IiLCJhbmdsZVNwcmVhZCIsIlBJIiwiYmFzZUFuZ2xlIiwiYW5nbGVPZmZzZXQiLCJhbmdsZSIsInpPZmZzZXQiLCJkZWZhdWx0UGF0aHMiLCJzdGFydCIsImVuZCIsImNyZWF0ZUN1cnZlZFBhdGgiLCJCb29sZWFuIiwic3RhcnROb2RlIiwiZW5kTm9kZSIsIm1pZFBvaW50IiwidCIsInoiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/model/Scene.tsx\n"));

/***/ })

});